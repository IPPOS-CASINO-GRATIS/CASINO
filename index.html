<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPPO’S CASINÒ</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />


  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Playfair Display', serif;
      background-color: #005f3c;
      background-image: radial-gradient(circle at top left, #007b50, #004d31);
      color: white;
      height: 100vh;
      overflow: hidden;
      position: relative;
      transition: background-color 0.3s, color 0.3s, background-image 0.3s; /* Aggiunto background-image alla transizione */
    }

    /* Stile per il tema scuro (aggiunto per la funzione toggleTheme) */
    body.dark-theme {
        background-color: #333333;
        background-image: none; /* Rimuove il gradiente nel tema scuro */
        color: white;
    }


    .top-buttons {
      position: absolute;
      top: 20px;
      right: 30px;
      z-index: 10;
    }

    .settings-button {
      background-color: #111;
      color: #ffcc00;
      border: 1px solid #ffcc00;
      border-radius: 10px;
      padding: 10px 20px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    .settings-button:hover {
      background-color: #333;
    }

    .container {
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 2;
      padding: 20px;
    }

    .logo {
      font-size: 4rem;
      color: #ffcc00;
      text-shadow: 0 0 10px #ffcc00, 0 0 20px #ff9900;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #ffcc00, 0 0 20px #ffcc00; }
      to { text-shadow: 0 0 20px #ffcc00, 0 0 30px #ff9900; }
    }

    .scroll-text {
      margin-top: 10px;
      overflow: hidden;
      height: 30px; /* Altezza adeguata per il font-size */
      position: relative;
      width: 80%; /* Larghezza per centrare meglio */
      max-width: 600px; /* Larghezza massima */
    }

    .scroll-text p {
      position: absolute;
      white-space: nowrap;
      animation: scroll-left 15s linear infinite; /* Rallentato un po' */
      font-size: 1.2rem;
      color: #ffffffcc;
      /* Assicura che parta fuori dallo schermo a destra */
      transform: translateX(100%);
    }

    @keyframes scroll-left {
       0% { transform: translateX(100%); } /* Parte da destra */
      100% { transform: translateX(-100%); } /* Finisce a sinistra */
    }


    .buttons {
      margin-top: 50px;
      display: flex;
      gap: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .game-button {
      background-color: rgba(255, 204, 0, 0.95);
      color: #000;
      text-decoration: none;
      padding: 20px 40px;
      border-radius: 15px;
      font-size: 1.3rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: transform 0.3s ease, background-color 0.3s ease;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .game-button:hover {
      transform: scale(1.1);
      background-color: #ffe066;
    }

    /* Stili per il modal delle impostazioni */
    #settingsModal {
        display: none;
        position: absolute;
        top: 70px; /* Posizione sotto il pulsante */
        right: 30px;
        background-color: rgba(34, 34, 34, 0.9); /* Sfondo leggermente trasparente */
        padding: 20px;
        border-radius: 10px;
        z-index: 20; /* Assicura che sia sopra altri elementi */
        border: 1px solid #ffcc00;
        color: white; /* Colore testo di default */
        box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }

    #settingsModal h3 {
        color: #ffcc00;
        margin-bottom: 15px;
        text-align: center;
    }

    #settingsModal div {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between; /* Allinea label e input */
    }

     #settingsModal label {
        color: #ffcc00;
        margin-right: 10px;
        font-size: 0.9rem;
    }

    #settingsModal input[type="checkbox"] {
        cursor: pointer;
        /* Stili per migliorare l'aspetto della checkbox */
        appearance: none;
        width: 18px;
        height: 18px;
        border: 1px solid #ffcc00;
        border-radius: 3px;
        position: relative;
        outline: none;
    }

    #settingsModal input[type="checkbox"]:checked {
        background-color: #ffcc00;
    }

     #settingsModal input[type="checkbox"]:checked::after {
        content: '\2713'; /* Segno di spunta */
        font-size: 14px;
        color: #333;
        position: absolute;
        top: 0px;
        left: 2px;
    }


    audio {
      display: none; /* Nasconde il player audio di default */
    }

    @media screen and (max-width: 600px) {
      .logo {
        font-size: 2.5rem;
      }

      .game-button {
        /* Rimosso flex-direction: column per mantenere icone e testo in linea se possibile */
        font-size: 1.1rem;
        padding: 15px 25px;
        gap: 10px; /* Ridotto spazio tra icona e testo */
      }

      .scroll-text {
         width: 90%; /* Più largo su mobile */
      }

      .scroll-text p {
        font-size: 1rem;
        animation-duration: 12s; /* Più veloce su mobile se necessario */
      }

      .top-buttons {
        right: 15px; /* Meno spazio a destra */
        top: 15px;
      }

      #settingsModal {
        right: 15px;
        top: 60px; /* Adattato alla nuova posizione del pulsante */
        width: calc(100% - 30px); /* Occupa quasi tutta la larghezza */
        max-width: 250px; /* Ma con un massimo */
      }
    }
  </style>
</head>
<body>
  <div class="top-buttons">
    <button class="settings-button" onclick="toggleSettings()" aria-label="Apri/Chiudi Impostazioni">
       <i class="fas fa-cog"></i> </button>
  </div>

  <div id="settingsModal">
    <h3>Impostazioni</h3>
    <div>
      <label for="musicToggle">Musica</label>
      <input type="checkbox" id="musicToggle" checked onchange="toggleMusic()">
    </div>
    <div>
      <label for="themeToggle">Tema Scuro</label>
      <input type="checkbox" id="themeToggle" onchange="toggleTheme()">
    </div>
  </div>

  <div class="container">
    <div class="logo">IPPO’S CASINÒ</div>
    <div class="scroll-text">
      <p>Benvenuto nel casinò dove ogni giocata può cambiare tutto. Prova la fortuna con Blackjack e Poker!</p>
    </div>
    <div class="buttons">
      <a href="blackjack.html" class="game-button"><i class="fas fa-cards"></i> Blackjack</a> <a href="poker.html" class="game-button"><i class="fas fa-dice-d20"></i> Poker</a> </div>
  </div>

  <audio id="backgroundMusic" loop> <source src="https://www.bensound.com/bensound-music/bensound-jazzyfrenchy.mp3" type="audio/mpeg">
    Il tuo browser non supporta l’audio.
  </audio>

  <script>
    // Funzione per aprire/chiudere il modal delle impostazioni
    function toggleSettings() {
      const modal = document.getElementById('settingsModal');
      modal.style.display = modal.style.display === 'block' ? 'none' : 'block';
    }

    // Funzione per attivare/disattivare la musica
    function toggleMusic() {
      const music = document.getElementById('backgroundMusic');
      const musicToggle = document.getElementById('musicToggle');
      if (musicToggle.checked) {
          // Prova a far partire la musica (potrebbe essere bloccato dal browser)
          music.play().catch(error => console.log("Autoplay bloccato dal browser:", error));
          music.muted = false; // Assicura che non sia muta
      } else {
        music.pause(); // Mette in pausa invece di mutare solo
        music.currentTime = 0; // Opzionale: riavvolge la traccia
        music.muted = true; // Muta comunque per sicurezza
      }
    }

    // Funzione per cambiare tema (chiaro/scuro)
    function toggleTheme() {
        const body = document.body;
        const themeToggle = document.getElementById('themeToggle');
        // Usa classList.toggle per aggiungere/rimuovere la classe 'dark-theme'
        body.classList.toggle('dark-theme', !themeToggle.checked); // Aggiunge 'dark-theme' se NON è spuntato

        // Salva la preferenza nel localStorage (opzionale)
        localStorage.setItem('theme', themeToggle.checked ? 'light' : 'dark');
    }

    // All'avvio della pagina, controlla le preferenze salvate (opzionale)
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('theme');
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const musicToggle = document.getElementById('musicToggle');
        const music = document.getElementById('backgroundMusic');

        // Applica tema salvato
        if (savedTheme === 'dark') {
             body.classList.add('dark-theme');
             themeToggle.checked = false; // Deseleziona se il tema è scuro
        } else {
             body.classList.remove('dark-theme'); // Assicura che non ci sia la classe dark
             themeToggle.checked = true; // Seleziona se il tema è chiaro (default)
        }

        // Imposta stato iniziale checkbox musica e muting
        // Nota: l'autoplay è spesso bloccato, quindi la musica partirà solo se l'utente interagisce
        // o se il browser lo permette. Iniziamo con la musica muta per evitare errori.
        music.muted = !musicToggle.checked;
        if (musicToggle.checked) {
            // Prova a far partire la musica in modo silenzioso all'inizio
            // L'utente dovrà poi attivarla con il toggle se l'autoplay fallisce
             music.play().catch(e => console.log("Autoplay iniziale bloccato"));
        }


        // Chiudi il modal se si clicca fuori
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('settingsModal');
            const settingsButton = document.querySelector('.settings-button');
            // Se il modal è visibile E il click NON è sul modal o sul suo pulsante di apertura
            if (modal.style.display === 'block' && !modal.contains(event.target) && !settingsButton.contains(event.target)) {
                modal.style.display = 'none';
            }
        });
    });

  </script>
</body>
</html>
